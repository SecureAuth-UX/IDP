<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="SecureAuth">
    <title>SecureAuth Identity Platform</title>
    <link rel="icon" type="images/vnd.microsoft.icon" href="images/favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">

    <script type="text/javascript" src="js/master.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.js"></script>

    <script>
        $(function () {
            $("#header").load("header.html");
        });

        $(window).load(function () {
            $(".se-pre-con").fadeOut("slow");
            $("body").fadeIn("slow");
        });
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RCKM50N26W"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-RCKM50N26W');
    </script>
</head>

<body class="internal-page" style="display: none;">
    <div class="se-pre-con"></div>

    <div id="header"></div>

    <main role="main">
        <div class="title-top">
            <h1 class="sa-type-header-1">
                <div class="sa-header-no-margin">
                    <div class="sa-header-text">Dynamic IP Blocking</div>
                </div>

                <div class="sa-box-stack-bottom-xxmedium-padding">
                    <div class="sa-type-body">
                        <div class="sa-color-secondary">
                            Enable Dynamic IP Blocking to
                            mitigate password spraying and other online password attacks that may impact your
                            workflows.
                        </div>
                    </div>
                </div>
            </h1>
        </div>
        <div class="sa-view-body mt-5">
            <div class="form-group">
                <h2 class="sa-type-header-2 sa-type-bold">Configuration</h2>
                <div class="sa-type-paragraph sa-color-secondary">Set the rule for how
                    and when to block IP addresses that fail to log in with various username entries. This
                    configuration applies to all policies in which the rule is enabled.</div>
            </div>
            <div class="form-group">
                <div class="sa-type-paragraph d-flex align-items-center">
                    <button class="sa-button-destructive" style="margin-right: 5px;">Block</button>
                    <span>IP address for</span>
                    <div class="select-container select-noborder w-auto">
                        <div class="select-dropdown">
                            <svg class="select-arrow" width="27" height="24" viewBox="0 0 27 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg" style="right: -25px;">
                                <path d="M8.2998 10L13.7998 15L19.2998 10H8.2998Z" fill="#2995F5" />
                            </svg>
                            <span class="store-default" value="">24 (Recommended)</span>
                            <ul class="s-dropdown u-hide">
                                <li class="select-option" value="12">12</li>
                                <li class="select-option selected" value="24 (Recommended)">24 (Recommended)</li>
                                <li class="select-option" value="36 (Recommended)">36 (Recommended)</li>
                                <li class="select-option" value="48">48</li>
                                <li class="select-option" value="72">72</li>
                            </ul>
                        </div>
                    </div>

                    <span>hours after</span>

                    <div class="select-container select-noborder w-auto">
                        <div class="select-dropdown">
                            <svg class="select-arrow" width="27" height="24" viewBox="0 0 27 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg" style="right: -25px;">
                                <path d="M8.2998 10L13.7998 15L19.2998 10H8.2998Z" fill="#2995F5" />
                            </svg>
                            <span class="store-default" value="">5</span>
                            <ul class="s-dropdown u-hide">
                                <li class="select-option selected" value="5">5</li>
                                <li class="select-option" value="10 (Recommended)">10 (Recommended)</li>
                                <li class="select-option" value="15 (Recommended)">15 (Recommended)</li>
                                <li class="select-option" value="20">20</li>
                                <li class="select-option" value="25">25</li>
                            </ul>
                        </div>
                    </div>

                    <span>failed login attempts against different user accounts.</span>
                </div>
                <div class="sa-box-stack-bottom-xsmall sa-box-stack-top-medium">
                    <div data-id="sa-toast" class="sa-toast sa-toast-info-no-hover">
                        <div class="sa-toast-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                version="1.1" viewBox="-2 -2 24 24" class="sa-icon-white sa-icon-large">
                                <path
                                    d="M9 7H11V5H9V7ZM10 18C5.59 18 2 14.41 2 10C2 5.59 5.59 2 10 2C14.41 2 18 5.59 18 10C18 14.41 14.41 18 10 18ZM10 0C8.68678 0 7.38642 0.258658 6.17317 0.761205C4.95991 1.26375 3.85752 2.00035 2.92893 2.92893C1.05357 4.8043 0 7.34784 0 10C0 12.6522 1.05357 15.1957 2.92893 17.0711C3.85752 17.9997 4.95991 18.7362 6.17317 19.2388C7.38642 19.7413 8.68678 20 10 20C12.6522 20 15.1957 18.9464 17.0711 17.0711C18.9464 15.1957 20 12.6522 20 10C20 8.68678 19.7413 7.38642 19.2388 6.17317C18.7362 4.95991 17.9997 3.85752 17.0711 2.92893C16.1425 2.00035 15.0401 1.26375 13.8268 0.761205C12.6136 0.258658 11.3132 0 10 0V0ZM9 15H11V9H9V15Z">
                                </path>
                            </svg>
                        </div>
                        <div class="sa-toast-text" data-id="sa-toast-text">
                            <div class="sa-toast-text" data-id="sa-toast-text">To include this feature in your
                                workflow, add the Dynamic IP Blocking rule in your policy.</div>
                        </div>
                        <div class="sa-toast-actions">
                            <div class="sa-toast-action" data-id="sa-toast-action"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sa-header-small">
                <div class="sa-header-text-small"></div>
            </div>
            <div class="sa-box-inset-small">
                <div class="sa-box-stack-bottom-medium">
                    <h2 class="sa-type-header-2 sa-type-bold">Exceptions</h2>
                </div>
                <div class="sa-box-stack-bottom-xsmall">
                    <h3 class="sa-type-header-3">Allowed IP Addresses</h3><br>
                </div>

                <div class="row">
                    <div class="col-4">
                        <button class="sa-button-secondary" id="btnAdd">
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                version="1.1" viewBox="0 0 24 24" class="sa-icon-info sa-icon-medium">
                                <path
                                    d="M13 11h4a1 1 0 0 1 0 2h-4v4a1 1 0 0 1-2 0v-4H7a1 1 0 0 1 0-2h4V7a1 1 0 0 1 2 0v4zm9 1c0 5.522-4.478 10-10 10S2 17.522 2 12C2 6.477 6.477 2 12 2s10 4.477 10 10zm-2 0a8 8 0 0 0-8-8 8 8 0 1 0 8 8z">
                                </path>
                            </svg>
                            Add IP addresses
                        </button>

                        <div class="sa-table-wrapper mt-3 mb-5">
                            <table class="sa-table mb-5" id="tblData">
                                <tbody>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-12">
                <div class="buttons-footer">
                    <div class="d-flex float-right">
                        <button class="sa-button-primary" id="saveBtn">Save</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="js/dropdown.js"></script>
    <script>
        $(document).on('click', '.select-dropdown', function () {
            $(this).parent().toggleClass("open-select");
            $(this).find('ul').slideToggle();
        });

        $(document).on('click', '.open-select .select-option', function () {
            var store = $(this).html();
            $(this).toggleClass('selected');
            $('.open-select .select-option').not($(this)).removeClass('selected');
            $('.open-select .store-default').html(store).attr('value', $(this).attr('value'));
        });
    </script>

    <script>
        $(document).ready(function () {
            $("#btnAdd").bind("click", Add);
            $(".btnEdit").bind("click", Edit);
            $(".btnDelete").bind("click", Delete);
            var rowNum = 7;

            function Add() {
                rowNum++;
                $("#tblData tbody").prepend("<tr>" +
                    "<td class='sa-table-td sa-table-v-align-middle'><input type='text' placeholder='123.123.11.1'/></td>" +
                    "<td class='sa-table-td sa-table-v-align-middle'>" +
                    "<img src='images/status-success.svg' class='btnSave'><img src='images/cancel.svg' class='btnDelete'/></td>" + "</tr>");
                $(".btnSave").bind("click", Save);
                $(".btnDelete").bind("click", Delete);
            };

            function Save() {
                var par = $(this).parent().parent();
                //tr 
                var tdIP = par.children("td:nth-child(1)");
                var tdButtons = par.children("td:nth-child(2)");
                var tdIPValue = tdIP.html(tdIP.children("input[type=text]").val());
                tdIP.html("<input type='text' disabled value='" + tdIPValue.html() + "'/>");

                tdButtons.html("<svg class='btnEdit' width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'>" +
                    "<path d='M14.06 8.99988L15 9.93988L5.92 18.9999H5V18.0799L14.06 8.99988ZM17.66 2.99988C17.41 2.99988 17.15 3.09988 16.96 3.28988L15.13 5.11988L18.88 8.86988L20.71 7.03988C21.1 6.64988 21.1 5.99988 20.71 5.62988L18.37 3.28988C18.17 3.08988 17.92 2.99988 17.66 2.99988ZM14.06 6.18988L3 17.2499V20.9999H6.75L17.81 9.93988L14.06 6.18988Z' fill='#2995F5' />" +
                    "</svg>" +
                    "<img src='images/delete.svg' class='btnDelete'/>");
                $(".btnEdit").bind("click", Edit);
                $(".btnDelete").bind("click", Delete);
            };

            $('#saveBtn').on('click', function () {
                var par = $("#tblData tbody tr");

                var tdIP = par.children("td:nth-child(1)");
                var tdButtons = par.children("td:nth-child(2)");
                var tdIPValue = tdIP.html(tdIP.children("input[type=text]").val());
                tdIP.html("<input type='text' disabled value='" + tdIPValue.html() + "'/>");

                tdButtons.html("<svg class='btnEdit' width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'>" +
                    "<path d='M14.06 8.99988L15 9.93988L5.92 18.9999H5V18.0799L14.06 8.99988ZM17.66 2.99988C17.41 2.99988 17.15 3.09988 16.96 3.28988L15.13 5.11988L18.88 8.86988L20.71 7.03988C21.1 6.64988 21.1 5.99988 20.71 5.62988L18.37 3.28988C18.17 3.08988 17.92 2.99988 17.66 2.99988ZM14.06 6.18988L3 17.2499V20.9999H6.75L17.81 9.93988L14.06 6.18988Z' fill='#2995F5' />" +
                    "</svg>" +
                    "<img src='images/delete.svg' class='btnDelete'/>");
                $(".btnEdit").bind("click", Edit);
                $(".btnDelete").bind("click", Delete);

            });

            function Edit() {
                var par = $(this).parent().parent();
                //tr 
                var tdIP = par.children("td:nth-child(1)");
                var tdButtons = par.children("td:nth-child(2)");

                var tdIPValue = tdIP.html(tdIP.children("input[type=text]").val());
                tdIP.html("<input type='text' value='" + tdIPValue.html() + "'/>");

                tdButtons.html("<img src='images/status-success.svg' class='btnSave'><img src='images/cancel.svg' class='btnSave'/></td>" + "</tr>");
                $(".btnSave").bind("click", Save);
                $(".btnEdit").bind("click", Edit);
                $(".btnDelete").bind("click", Delete);
            };

            function Delete() {
                var par = $(this).parent().parent();
                par.remove();
            };
        });
    </script>

</body>

</html>